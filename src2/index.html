<!doctype html>
<html lang="es">
<head>
	<title>SShopping List</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/jquery.mobile.min.css" />
	<link href="css/mobiscroll.scroller.css" rel="stylesheet" type="text/css" />
	<link href="css/mobiscroll.scroller.jqm.css" rel="stylesheet" type="text/css" />
	<link href="css/style.css" rel="stylesheet" type="text/css" />
	<script src="js/jquery.min.js"></script>
	<script src="js/jquery.mobile.min.js"></script>
	<script src="js/mobiscroll/mobiscroll.jqmobi.js" type="text/javascript"></script>
	<script src="js/mobiscroll/mobiscroll.core.js"></script>
	<script src="js/mobiscroll/mobiscroll.scroller.js" type="text/javascript"></script>
	<script src="js/mobiscroll/mobiscroll.select.js" type="text/javascript"></script>
	<script src="js/mobiscroll/mobiscroll.scroller.jqm.js" type="text/javascript"></script>
	<script src="js/mobiscroll/mobiscroll.i18n.es.js" type="text/javascript"></script>
	<script src="js/login.js"></script>
	<script src="js/list_groups.js"></script>
	<script src="js/register.js"></script>
	<script src="js/add_member.js"></script>
	<script src="js/list_members.js"></script>
	<script src="js/connected.js"></script>
	<script src="js/remember_password.js"></script>
	<script src="js/create_groups.js"></script>
	<script src="js/list_slists.js"></script>
	<script src="js/create_list.js"></script>
	<script src="js/list_items.js"></script>
	<script src="js/edit_item.js"></script>
	<script src="js/create_item.js"></script>
	<script src="js/user_config.js"></script>
	<script src="js/connected.js"></script>
	<script src="js/logout.js"></script>
	<script src="js/import_mobile_contacts.js"></script>
	
</head>
<script>

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-46151859-1', 'hol.es');
	ga('send', 'pageview');

</script>
<body>
	<!-- Start of login page -->
	<div data-role="page" id="login" data-theme="b">
		<div data-role="header" data-theme="b">
			<h1>Login</h1>
		</div>
		
		<div data-role="content">
			<div style="text-align: center;">
				<h2>Shared Shopping List</h2>
				Accede a tu cuenta personal o regístrate
			</div>
			<form method="post" id="formLogin">
				<div data-role="fieldcontain">
					<input type="email" name="loginEmail" id="loginEmail" placeholder="Correo electrónico" required autofocus maxlength="50">
				</div>
				<div data-role="fieldcontain">
					<input type="password" name="loginPassword" id="loginPassword" placeholder="Contraseña" required maxlength="30">
				</div>
				<label><input type="checkbox" id="loginRemember" name="loginRemember" data-theme="d">Recordar usuario y contraseña</label>
					<h4 id="message"> </h4>		
				<input type="button" name="loginButton" id="loginButton" value="Acceder" onClick="login()" />
			</form>
			<a href="#register" data-role="button" data-theme="d">Registrar</a>
			<a href="#remember_password">¿Has olvidado tu contraseña?</a>
		</div>
		<script>checkLogin();</script>	
	</div><!-- /page -->
	
	<!-- Start of register page -->
	<div data-role="page" id="register" data-theme="b">
		<div data-role="header" data-theme="b">
		  <h1>Registro</h1>
		</div>

		<div data-role="content">
			<div style="text-align: center;">
				<h2>Shared Shopping List</h2>
				Bienvenido a la aplicacación, para poder empezar necesitas
				registrarte como usuario, introduciendo tu correo electrónico
				habitual, que necesitarás para recuperar tu contraseña.
			</div>
		  	<form method="post" id="formRegistro">
				<div data-role="fieldcontain">
					<input type="text" name="registerUserName" id="registerUserName" placeholder="Nombre de usuario" required autofocus maxlength="50">
				</div>
				<div data-role="fieldcontain">
					<input type="email" name="registerEmail" id="registerEmail" placeholder="Correo electrónico" required maxlength="50">
				</div>
				<div data-role="fieldcontain">
					<input type="password" name="registerPassword" id="registerPassword" placeholder="Contraseña" required maxlength="30">
				</div>
				<h4 id="messageRegister"></h4>
				<input type="button" name="register" id="register" value="Registrar" onClick="registrar()" />
			</form>
		</div>		
	</div><!-- /page -->
	
	<!-- Start of remember password page -->
	<div data-role="page" id="remember_password" data-theme="b">
		<div data-role="header" data-theme="b">
		  <h1>Recordar Contraseña</h1>
		</div>
		
		<div data-role="content">
			<form method="post" id="formRememberPassword">
				<input type="email" name="rememberEmail" id="rememberEmail" placeholder="Correo electrónico" data-clear-btn="true" />
				<input type="button" name="remember" id="remember" value="Recordar" onClick="remember_password()"/>
			</form>	 
			<h4 id="messageRememberPassword"></h4>
		</div>
	</div><!-- /page -->
	
	<!-- Start of list groups page -->
	<div data-role="page" id="list_groups" data-theme="c">
		<script>
			isConnected();
		</script>
			<div data-role="header" data-theme="b">
				<a href="#menuListGroups" data-icon="bars" class="ui-btn-left" data-iconpos="notext">Menu</a>
				<h1>Mis grupos</h1>
				<a href="#create_groups" data-icon="gear" class="ui-btn-right">Crear</a>
			</div>
			
		<div id="list" data-role="content">
			<ul id="mylist" class="customIconColor" data-role="listview" data-filter="true" data-split-icon="gear" data-split-theme="b">
				<li data-role="list-divider" role="heading">
					Mis grupos
				</li>
			</ul>
			<h4 id="messageListGroups"></h4>
		</div>
		<!-- menu -->
		<div data-role="panel" data-position="left" data-position-fixed="false" data-display="reveal" id="menuListGroups" data-theme="b">
          <ul data-role="listview" data-theme="b" data-divider-theme="b" style="margin-top:-16px;" class="nav-search">
            <li data-icon="back">
              <a href="#" data-rel="back">Atrás</a>
            </li>
            <li data-icon="home">
              <a href="#list_groups" rel="external">Mis grupos</a>
            </li>
            <li data-icon="gear">
              <a href="#user_config" rel="external">Mi perfil</a>
            </li>
            <li data-icon="refresh">
              <a href="#" onClick="location.reload(true)">Refrescar</a>
            </li>
            <li data-icon="delete" style="background-color:#111;">
              <a href="#" onclick="logout()" data-rel="close">Cerrar sesión</a>
            </li> 
          </ul>
         <!-- panel content goes here -->
        </div><!-- /menu -->
		<div data-role="popup" id="popupBasic">
				<a href="#" data-rel="back" data-role="button" data-theme="b" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Cerrar</a>					
		</div>
		
		<!-- El popup para confirmar la operación -->
		<div data-role="popup" id="popupConfirmListGroups" data-overlay-theme="a">
			 <div data-role="content" style="text-align: center;">
				<h3>¿Estás seguro?</h3>
				<p id="txtConfirmGroups"></p>
				<fieldset class="ui-grid-a">
					<div class="ui-block-a">
						<a href="#" id="btnConfirmListGroups" class="btnConfirmListGroups" data-role="button" data-transition="flow" data-theme="c">
							Sí
						</a>
					</div>
					<div class="ui-block-b">
						<a href="#" data-role="button" data-rel="back" data-theme="b">
							No
					</a>
					</div>
				</fieldset>
			</div>
		</div>
	</div><!-- /page -->
	
	<!-- Start of create groups page -->
	<div data-role="page" id="create_groups" data-theme="c">
		<script>
			isConnected();
		</script>	
		<div data-role="header" data-theme="b">
			<a href="#menuCreateGroups" data-icon="bars" class="ui-btn-left" data-iconpos="notext">Menu</a>
			<h1>Nuevo grupo</h1>
		</div>	
		<!-- menu -->
		<div data-role="panel" data-position="left" data-position-fixed="false" data-display="reveal" id="menuCreateGroups" data-theme="b">
          <ul data-role="listview" data-theme="b" data-divider-theme="b" style="margin-top:-16px;" class="nav-search">
            <li data-icon="back">
              <a href="#" data-rel="back">Atrás</a>
            </li>
            <li data-icon="home">
              <a href="#list_groups" rel="external">Mis grupos</a>
            </li>
            <li data-icon="gear">
              <a href="#user_config" rel="external">Mi perfil</a>
            </li>
            <li data-icon="refresh">
              <a href="#" onClick="location.reload(true)">Refrescar</a>
            </li>
            <li data-icon="delete" style="background-color:#111;">
              <a href="#" onclick="logout()" data-rel="close">Cerrar sesión</a>
            </li> 
          </ul>
         <!-- panel content goes here -->
        </div><!-- /menu -->
		<div data-role="content">
		<div data-role="fieldcontain" style="text-align: center;">
				Por favor proporciona un nombre para el grupo.
				Añada usuarios introduciendo su correo electrónico.
		</div>
		<form id="createGroupForm" >	
			<div data-role="fieldcontain">
				<input type="text" data-clear-btn="true" id="CreateGroupName" placeholder="Nombre de grupo"/>
			</div>	
			<div data-role="fieldcontain">
				<input data-clear-btn="true" data-inline="true"  id="CreateGroupEmails" placeholder="Correo electrónico"/>
				<input type="button" data-icon="plus" data-iconpos="notext" data-inline="true" data-role="button" onclick="addUsers()"/>
			</div>	
			<div id="CreateGroupCheck" data-role="fieldcontain">
				<fieldset data-role="controlgroup" id="CreateGroupCheck2">
				</fieldset> 
			</div>
			<div>
				<input type="button" data-mini="true" name="create" id="create" value="Crear grupo" data-theme="b" onclick="createGroup()"/>
			</div>
		</form>
		<h4 id="messageCreateGroups"></h4>
		</div>
	</div><!-- /page -->
	
	<!-- Start of add member page -->
	<div data-role="page" id="add_member" data-theme="c">
		<div data-role="header" data-theme="b">
			<a href="#menuAddMembers" data-icon="bars" class="ui-btn-left" data-iconpos="notext">Menu</a>
			<h1>Añadir Miembros</h1>
		</div>
		<!-- menu -->
		<div data-role="panel" data-position="left" data-position-fixed="false" data-display="reveal" id="menuAddMembers" data-theme="b">
          <ul data-role="listview" data-theme="b" data-divider-theme="b" style="margin-top:-16px;" class="nav-search">
            <li data-icon="back">
              <a href="#" data-rel="back">Atrás</a>
            </li>
            <li data-icon="home">
              <a href="#list_groups" rel="external">Mis grupos</a>
            </li>
            <li data-icon="gear">
              <a href="#user_config" rel="external">Mi perfil</a>
            </li>
            <li data-icon="refresh">
              <a href="#" onClick="location.reload(true)">Refrescar</a>
            </li>
            <li data-icon="delete" style="background-color:#111;">
              <a href="#" onclick="logout()" data-rel="close">Cerrar sesión</a>
            </li> 
          </ul>
         <!-- panel content goes here -->
        </div><!-- /menu -->
		<div data-role="content">
		<div id = "divAddMember">
		<form id="addMember" >			
			<div data-role="fieldcontain">
				<input data-clear-btn="true" data-inline="true"  id="addMemberEmail" placeholder="Correo electrónico"/>
				<input type="button" data-icon="plus" data-iconpos="notext" data-inline="true" data-role="button" onclick="addCorreos()"/>
			</div>		
			<div id="check" data-role="fieldcontain">
				<fieldset data-role="controlgroup" id="check2">
				</fieldset> 
			</div>	
			<div>
				<input type="button" data-mini="true" name="create" id="create" value="Añadir miembros" data-theme="b" onclick="addMembers()"/>
			</div>
			<div>
				<input type="button" data-mini="true" name="create" id="import_mobile_contact" value="Importar contactos desde móvil" data-theme="b" onclick="onPhone() display="false"/>
			</div>
		</form>	
		</div>
		<div id = "divInviteMembers" style="display:none">
			<h3>Los siguientes emails no están registrados, ¿quieres invitarlos a usar la aplicación?</h3>

			<form id="inviteform" >	
			<div id="noRegistrados" data-role="fieldcontain">
				<fieldset data-role="controlgroup" id="checkNoRegistrados">

				</fieldset> 
			</div>
			<input type="button" data-mini="true" name="create" id="create" value="Invitar" data-theme="b" onclick="inviteUsers()"/>
			<div id="boton-importarcontactos" style="display:none;">
				<input type="button" data-mini="true" name="create" id="import_mobile_contact" value="Importar contactos desde móvil" data-theme="b" onclick="onPhone()" />
			</div>
			</form>
		</div>
		<h4 id="messageAddMember"></h4>
		</div>
	</div><!-- /page -->
	
	<!-- Start of list member page -->
	<div data-role="page" id="list_members" data-theme="b">
		<script>
			isConnected();
		</script>
		<div data-role="header" data-theme="b">
			<a href="#menuLisMembers" data-icon="bars" class="ui-btn-left" data-iconpos="notext">Menu</a>
			<h1>Miembros del grupo</h1>
			<a href="#add_member" data-icon="gear" class="ui-btn-right">Añadir miembro</a>
		</div>	
		<div id="list" data-role="content">
			<ul id="miembros"  data-role="listview" data-filter="true" data-theme="c" data-split-icon="delete" data-split-theme="b"></ul>
		</div>
		<!-- menu -->
		<div data-role="panel" data-position="left" data-position-fixed="false" data-display="reveal" id="menuLisMembers" data-theme="b">
		  <ul data-role="listview" data-theme="b" data-divider-theme="b" style="margin-top:-16px;" class="nav-search">
			<li data-icon="back">
			  <a href="#" data-rel="back">Atrás</a>
			</li>
			<li data-icon="home">
			  <a href="#list_groups" rel="external">Mis grupos</a>
			</li>
			<li data-icon="gear">
			  <a href="#user_config" rel="external">Mi perfil</a>
			</li>
			<li data-icon="refresh">
			  <a href="#" onClick="location.reload(true)">Refrescar</a>
			</li>
			<li data-icon="delete" style="background-color:#111;">
			  <a href="#" onclick="logout()" data-rel="close">Cerrar sesión</a>
			</li> 
		  </ul>
		 <!-- panel content goes here -->
		</div><!-- /menu -->
		
		<!-- El popup para confirmar la operación -->
		<div data-role="popup" id="popupConfirmDeleteMember" data-overlay-theme="a">
			 <div data-role="content" style="text-align: center;">
				<h3>¿Estás seguro?</h3>
				<p>Está acción expulsará al usuario del grupo</p>
				<fieldset class="ui-grid-a">
					<div class="ui-block-a">
						<a href="#" id="btnConfirmDelete" class="btnConfirmDelete" data-role="button"  data-transition="flow" data-theme="c">
							Sí
						</a>
					</div>
					<div class="ui-block-b">
						<a href="#" data-role="button" data-rel="back" data-theme="b">
							No
						</a>
					</div>
				</fieldset>
			</div>
		</div>
		<div id="messageListMembers">
		</div>
	</div><!-- /page -->
	
	<!-- Start of list slist page -->
	<div data-role="page" id="list_slists">
		<script>
			isConnected();
		</script>	
		<div id="list_slists_header" data-role="header" data-theme="b">
			<a href="#menuListSList" data-icon="bars" class="ui-btn-left" data-iconpos="notext">Menu</a>
			<h1>Las listas de compra del grupo </h1>
			<a href="#create_list" data-icon="plus" class="ui-btn-right">
				Crear
			</a>
		</div>	
		<!-- menu -->
		<div data-role="panel" data-position="left" data-position-fixed="false" data-display="reveal" id="menuListSList" data-theme="b">
          <ul data-role="listview" data-theme="b" data-divider-theme="b" style="margin-top:-16px;" class="nav-search">
            <li data-icon="back">
              <a href="#" data-rel="back">Atrás</a>
            </li>
            <li data-icon="home">
              <a href="#list_groups" rel="external">Mis grupos</a>
            </li>
            <li data-icon="gear">
              <a href="#user_config" rel="external">Mi perfil</a>
            </li>
            <li data-icon="refresh">
              <a href="#" onClick="location.reload(true)">Refrescar</a>
            </li>
            <li data-icon="delete" style="background-color:#111;">
              <a href="#" onclick="logout()" data-rel="close">Cerrar sesión</a>
            </li> 
          </ul>
         <!-- panel content goes here -->
        </div><!-- /menu -->
		
		<div data-role="content">
			<div id="slists" data-role="collapsible-set" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d" data-content-theme="b">
				<div id="open" data-role="collapsible" data-collapsed="false" data-theme="b">
					<h3>Listas pendientes</h3>
					<ul id="open_list" data-role="listview" data-split-icon="gear" data-split-theme="b"></ul>
				</div>
				<div id="close" data-role="collapsible" data-theme="b">
					<h3>Listas completadas</h3>
					<ul id="close_list" data-role="listview" data-split-icon="gear" data-split-theme="b"></ul>
				</div>
			</div>
			<h4 id="messageListSList"></h4>
		</div><!-- /content -->	
		<!-- El popup que muestra el menú de las opciones sobre una lista -->
		<div data-role="popup" id="popupListSLists">
			<a href="#" data-rel="back" data-role="button" data-theme="b" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Cerrar</a>
			<ul id="ulPopupListSLists" data-role="listview" data-inset="true" data-divider-theme="b">
				<li id="popupListName" data-role="list-divider" role="heading">Lista : </li>
				<li id="popupBtnView" data-inset="true" role="heading">
					<a href="#" class="btnViewList">
						Ver y editar
					</a>
				</li>
				<li data-inset="true" role="heading">
					<a href="#" class="confirmOpt" opt="open">
						Reiniciar lista
					</a>
				</li>
				<li data-inset="true" role="heading">
					<a href="#" class="confirmOpt" opt="close">
						Completar lista
					</a>
				</li>
				<li data-inset="true" role="heading">
					<a href="#" class="confirmOpt" opt="delete">
						Borrar lista
					</a>
				</li>
			</ul>
		</div>
		<!-- El popup para confirmar la operación -->
		<div data-role="popup" id="popup_confirm" data-overlay-theme="a">
			 <div data-role="content" style="text-align: center;">
				<h3>¿Estás seguro?</h3>
				<p id="txtConfirmLists"></p>
				<fieldset class="ui-grid-a">
					<div class="ui-block-a">
						<a href="#" id="btnConfirmList" class="btnConfirmList" data-role="button"  data-transition="flow" data-theme="c">
							Sí
						</a>
					</div>
					<div class="ui-block-b">
						<a href="#" data-role="button" data-rel="back" data-theme="b">
							No
						</a>
					</div>
				</fieldset>
			</div>
		</div>				
		
	</div><!-- /page -->
	
	<!-- Start of create slist page -->
	<div data-role="page" id="create_list" date-theme="b">
		<div data-role="header" data-position="inline" data-theme="b">
			<a href="#menuCresteSList" data-icon="bars" class="ui-btn-left" data-iconpos="notext">Menu</a>
			<h1>Nueva lista de compras</h1>
		</div><!-- /header -->
		<div data-role="content">
			<form id="createListForm" method="post">
				<input type="text" name="listName" id="listName" data-clear-btn="true" placeholder="Nombre de la lista" required/>
				<hr/>
				<p>
					Opcionalmente, puedes indicar los productos iniciales de la nueva lista de compras.
					Introduce el nombre del producto en el campo "Nombre del producto", seleccione una cantidad y pulse el botón "+"
				</p>
				<div class="ui-grid-b" id="newProduct">
					<div class="ui-block-a" style="width:80%;">
						<input type="text" name="productName" id="productName" data-clear-btn="true" placeholder="Nombre del producto" />
					</div>
					<div class="ui-block-b" style="width:10%;">
						<select name="Cantidad" id="quantityNewProduct" data-role="none"></select>
					</div>
					<div class="ui-block-c" style="width:10%;">
						<a href="#" data-role="button" data-icon="plus" data-iconpos="notext" data-inline="true" onClick="addProduct()" ></a>
					</div>
				</div>
				<ul style="display:none;" name="initialProducts" id="initialProducts" data-role="listview" data-inset="true" data-divider-theme="b" data-split-icon="delete" >
					<li data-role="list-divider" role="header">Productos iniciales</li>
				</ul>
				<br/>
				<h4 id="messageCreateList"></h4>
				<input type="button" value="Crear" id="createListBtn" data-theme="b" onClick="createList()"/>
			</form>
		</div><!-- /content -->	
		<!-- menu -->
		<div data-role="panel" data-position="left" data-position-fixed="false" data-display="reveal" id="menuCresteSList" data-theme="b">
		  <ul data-role="listview" data-theme="b" data-divider-theme="b" style="margin-top:-16px;" class="nav-search">
			<li data-icon="back">
			  <a href="#" data-rel="back">Atrás</a>
			</li>
			<li data-icon="home">
			  <a href="#list_groups" rel="external">Mis grupos</a>
			</li>
			<li data-icon="gear">
			  <a href="#user_config" rel="external">Mi perfil</a>
			</li>
			<li data-icon="refresh">
			  <a href="#" onClick="location.reload(true)">Refrescar</a>
			</li>
			<li data-icon="delete" style="background-color:#111;">
			  <a href="#" onclick="logout()" data-rel="close">Cerrar sesión</a>
			</li> 
		  </ul>
		 <!-- panel content goes here -->
		</div><!-- /menu -->
	</div><!-- /page -->
	
	<!-- Start of list items page -->
	<div data-role="page" id="list_items" data-theme="c">
		<script>
            isConnected();
        </script>
		<div data-role="header" data-theme="b">
			<a href="#menuListItems" data-icon="bars" class="ui-btn-left" data-iconpos="notext">Menu</a>
			<h1 id="listItems_list_name"></h1>
			<a href="#" id="listItems_btnOptions" data-icon="gear" class="ui-btn-right">Opciones</a>
		</div>
		<div data-role="content">
			<div id="itemlist"></div>
			<div id="mobiscrollQuantityB"><select id="mobiscrollQuantityBought"></select></div>
				<h4 id="messageListItems"></h4>
		</div>	
		<!-- menu -->
		<div data-role="panel" data-position="left" data-position-fixed="false" data-display="reveal" id="menuListItems" data-theme="b">
		  <ul data-role="listview" data-theme="b" data-divider-theme="b" style="margin-top:-16px;" class="nav-search">
			<li data-icon="back">
			  <a href="#" data-rel="back">Atrás</a>
			</li>
			<li data-icon="home">
			  <a href="#list_groups" rel="external">Mis grupos</a>
			</li>
			<li data-icon="gear">
			  <a href="#user_config" rel="external">Mi perfil</a>
			</li>
			<li data-icon="refresh">
			  <a href="#" onClick="location.reload(true)">Refrescar</a>
			</li>
			<li data-icon="delete" style="background-color:#111;">
			  <a href="#" onclick="logout()" data-rel="close">Cerrar sesión</a>
			</li> 
		  </ul>
		 <!-- panel content goes here -->
		</div><!-- /menu -->
		<!-- El popup que muestra el menú de las opciones sobre una lista -->
        <div data-role="popup" id="popupListItems">
            <a href="#" data-rel="back" data-role="button" data-theme="b" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Cerrar</a>
            <ul id="listItems_ulPopupListItems" data-role="listview" data-inset="true" data-divider-theme="b">
                <li id="listItems_popupItemtName" data-role="list-divider" role="heading"> </li>
                <li id="listItems_popupBtnView" data-inset="true" role="heading">
                    <a href="#" class="listItems_btnCreateItem">
                        Nuevo producto
                    </a>
                </li>
				<li data-inset="true" role="heading">
					<a href="#" class="listItems_confirmOpt" opt="open">
						Reiniciar lista
					</a>
				</li>
                <li data-inset="true" role="heading">
                    <a href="#" class="listItems_confirmOpt" opt="close">
                        Completar lista
                    </a>
                </li>
                <li data-inset="true" role="heading">
                    <a href="#" class="listItems_confirmOpt" opt="delete">
                        Borrar lista
                    </a>
                </li>
            </ul>
        </div>                  
        <!-- El popup para confirmar la operación -->
        <div data-role="popup" id="listItems_popupConfirmItems" data-overlay-theme="a">
			<div data-role="content" style="text-align: center;">
				<h3>¿Estás seguro?</h3>
                <p id="listItems_txtConfirmItems"></p>
                <fieldset class="ui-grid-a">
					<div class="ui-block-a">
						<a href="#" id="listItems_btnConfirmItems" class="listItems_btnConfirmItems" data-role="button" data-transition="flow" data-theme="c">
						   Sí
						</a>
					</div>
					<div class="ui-block-b">
						<a href="#" data-role="button" data-rel="back" data-theme="b">
							No
						</a>
					</div>
				</fieldset>
			</div>
		</div>
	</div><!-- /page -->
	
	<!-- Start of create items page -->
	<div data-role="page" id="create_items" data-theme="b">
		<script>
            isConnected();
        </script>
		<div data-role="header" data-position="inline" data-theme="b">
			<h1>Nuevo producto</h1>
		</div><!-- /header -->
		<div data-role="content">
			<form id="createItemForm" >
				<div data-role="fieldcontain">
					<input type="text" name="itemName" id="itemName" placeholder="Nombre producto" required autofocus data-clear-btn="true" />
				</div>
				<div class="ui-grid-a" id="quantityGrid">
					<div class="ui-block-a" id="newProduct" style="width:75px;">
						<select name="Cantidad" id="quantity" data-role="none" value="Cantidad"></select>
					</div>
					<div class="ui-block-b">
						<div class="ui-select" style="width:150px;">
							<select name="Unidad" id="metric" data-native-menu="false">
								<option value="u">Unidades</option>
								<option value="kg">Kg</option>
								<option value="g">g</option>
								<option value="l">L</option>
								<option value="ml">ml</option>
								<option value="m">m</option>
								<option value="cm">cm</option>
							</select>
						</div>
					</div>
				</div>
				<h4 id="messageCreateItem"></h4>
				<br/>
				<div>
					<input type="button" data-mini="true" name="create" id="create" value="Guardar" data-theme="b" onclick="createItem()"/>
				</div>
			</form><!-- /createform -->
		</div><!-- /content -->
	</div><!-- /page -->
	
	<!-- Start of edit items page -->
	<div data-role="page" id="edit_items" data-theme="b">
		<script>
            isConnected();
        </script>
		<div data-role="header" data-position="inline" data-theme="b">
			<h1>Editar producto</h1>
		</div><!-- /header -->
		<div data-role="content">
			<form id="editItemForm">
				<div data-role="fieldcontain">
					<input type="text" name="edit_itemName" id="edit_itemName" placeholder="Nombre producto" required data-clear-btn="true"/>
				</div>
				<div class="ui-grid-a" id="edit_quantityGrid">
					<div class="ui-block-a" style="width:75px;">
						<select name="Cantidad" id="edit_quantity" data-role="none"></select>
					</div>
					<div class="ui-block-b">
						<div class="ui-select" style="width:150px;">
							<select name="Unidad" id="edit_metric" data-native-menu="false">
								<option value="u">Unidades</option>
								<option value="kg">Kg</option>
								<option value="g">g</option>
								<option value="l">L</option>
								<option value="ml">ml</option>
								<option value="m">m</option>
								<option value="cm">cm</option>
							</select>
						</div>
					</div>
				</div>
				<h4 id="messageEditItem"></h4>
				<br/>
				<div>
					<input type="button" data-mini="true" name="edit" id="edit" value="Guardar" data-theme="b" onclick="editItem()"/>
					<input type="button" data-mini="true" name="delete" id="delete" value="Eliminar" data-theme="c" onclick="deleteItem()"/>
				</div>
			</form><!-- /createform -->
		</div><!-- /content -->
	</div><!-- /page -->
	
	<!-- Start of user config page -->
	<div data-role="page" id="user_config" data-theme="b">
		<script>
            isConnected();
        </script>
		<div data-role="header" data-theme="b">
			<a href="#menuUserConfig" data-icon="bars" class="ui-btn-left" data-iconpos="notext">Menu</a>
			<h1>Configuración</h1>
		</div>
		<!-- menu -->
		<div data-role="panel" data-position="left" data-position-fixed="false" data-display="reveal" id="menuUserConfig" data-theme="b">
          <ul data-role="listview" data-theme="b" data-divider-theme="b" style="margin-top:-16px;" class="nav-search">
            <li data-icon="back">
              <a href="#" data-rel="back">Atrás</a>
            </li>
            <li data-icon="home">
              <a href="#list_groups" rel="external">Mis grupos</a>
            </li>
            <li data-icon="gear">
              <a href="#user_config" rel="external">Mi perfil</a>
            </li>
            <li data-icon="refresh">
              <a href="#" onClick="location.reload(true)">Refrescar</a>
            </li>
            <li data-icon="delete" style="background-color:#111;">
              <a href="#" onclick="logout()" data-rel="close">Cerrar sesión</a>
            </li> 
          </ul>
         <!-- panel content goes here -->
        </div><!-- /menu -->
		<div data-role="content">
			<div style="text-align: center;">    
				Aquí puedes cambiar tu nombre de usuario y contraseña. Deberás introducir
				tu antigua contraseña para poder realizar los cambios. Si no deseas cambiar un campo
				dejalo vacío.	
			</div>	  
			<!-- Formulario de registro -->	  
			<form method="post" id="formUserConfig">	  
				<p>Nombre actual:  <b id="currentUserName">Desconocido</b> </p>		
				<div data-role="fieldcontain">
					<input type="text" name="userName" id="userName" placeholder="Nuevo nombre de usuario" required autofocus maxlength="50">
					</p>
					<input type="password" name="newPassword" id="newPassword" placeholder="Contraseña nueva" required maxlength="30">
				</div>
				<div data-role="fieldcontain">
				<input type="password" name="currentPassword" id="currentPassword" placeholder="Contraseña actual" required maxlength="30">
				</div>
				<h4 id="messageUserConfig"></h4>	
				<input type="button" name="submit" id="submit" value="Actualizar perfil" onClick="updateProfile()" />
			</form>
			<!-- Script que recupera el nombre -->
			<script>
				getName();
			</script>
		</div>
	</div><!-- /page -->
</body>
</html>